<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Aircrack-ng Projet Partage</title>
    <style>
        /* Style de base */
        body {
            font-family: monospace, sans-serif;
            background-color: #1e1e1e;
            color: white;
            margin: 0;
            padding: 0;
        }

        /* Terminal */
        #terminal {
            width: 100%;
            height: 75vh; /* Occupation optimale pour petits écrans */
            padding: 15px;
            overflow-y: auto;
            border-bottom: 2px solid #fff;
        }

        /* Conteneur de saisie */
        #input-container {
            display: flex;
            justify-content: flex-start;
            padding: 10px;
        }

        #input-container input {
            background-color: #61952e;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px;
            width: 100%;
            font-size: 16px;
            outline: none;
        }

        #input-container input:focus {
            border: 2px solid #4CAF50;
        }

        /* Tooltip (fenêtre de tutoriel) */
        .tooltip {
            position: absolute;
            background-color: #61952e;
            color: white;
            padding: 15px;
            border-radius: 10px;
            max-width: 90%;
            top: 10px;
            right: 10px;
            font-family: Arial, sans-serif;
            font-size: 14px;
            overflow: auto;
            min-width: 200px;
            min-height: 150px;
            box-sizing: border-box;
        }

        /* Fermeture du tutoriel */
        .close-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: red;
            color: white;
            border: none;
            border-radius: 50%;
            padding: 5px;
            cursor: pointer;
        }

        /* Préformatage pour les commandes */
        pre {
            background-color: #333;
            color: #f8f8f2;
            padding: 10px;
            border-radius: 5px;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-size: 12px;
            width: 100%;
            margin: 10px 0;
        }

        /* Améliorations pour petits écrans */
        @media screen and (max-width: 600px) {
            #terminal {
                height: 65vh;
                padding: 10px;
            }
            #input-container input {
                font-size: 14px;
            }
            .tooltip {
                max-width: 95%;
            }
            .tooltip h2 {
                font-size: 16px;
            }
            .tooltip p {
                font-size: 12px;
            }
            pre {
                font-size: 12px;
            }
        }

        /* Très petits écrans */
        @media screen and (max-width: 400px) {
            #terminal {
                height: 60vh;
                padding: 8px;
            }
            #input-container input {
                padding: 8px;
                font-size: 14px;
            }
            .tooltip {
                max-width: 90%;
                padding: 12px;
                font-size: 12px;
            }
            .tooltip h2 {
                font-size: 14px;
            }
            .tooltip p {
                font-size: 10px;
            }
            pre {
                font-size: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="terminal"></div>
    <div id="input-container">
        <input type="text" id="command-input" placeholder="Entrez une commande..." autofocus />
    </div>

    <script>
        // Variables et fonctions pour le terminal et le tutoriel
        const networks = [
            { bssid: '00:14:22:01:23:45', channel: 6, signal: -45, essid: 'MonReseau', clients: [{ mac: '11:00:14:22:01:23', ip: '192.168.1.10' }] },
            { bssid: '00:14:22:01:23:46', channel: 11, signal: -50, essid: 'AutreReseau', clients: [{ mac: '33:00:14:22:01:25', ip: '192.168.1.20' }] }
        ];

        let isSudo = false;
        let isMonitorMode = false;
        let currentInterface = 'wlan0';
        let monitorInterface = 'wlan0mon';
        const terminal = document.getElementById("terminal");
        const commandInput = document.getElementById("command-input");

        function printToTerminal(message) {
            const p = document.createElement("p");
            p.textContent = message;
            terminal.appendChild(p);
            terminal.scrollTop = terminal.scrollHeight;
        }

        // Exécution des commandes
        function executeCommand(command) {
            const cmd = command.trim().toLowerCase();
            if (cmd === "sudo su") { isSudo ? printToTerminal("Déjà superutilisateur.") : (isSudo = true, printToTerminal("Mode superutilisateur activé.")); }
            else if (cmd === "exit") { isSudo ? (isSudo = false, printToTerminal("Mode superutilisateur désactivé.")) : printToTerminal("Fermeture."); }
            else if (cmd === "iwconfig") { printToTerminal(isMonitorMode ? `${monitorInterface}  Mode: Monitor` : `${currentInterface}  Mode: Managed`); }
            else if (cmd === "ifconfig") { printToTerminal(`${currentInterface} Link encap:Ethernet`); }
            else if (cmd === "airodump-ng wlan0mon") { isMonitorMode ? printToTerminal("Scan WiFi...") : printToTerminal("Erreur: moniteur requis."); }
            else printToTerminal(`Commande non reconnue: ${cmd}`);
        }

        commandInput.addEventListener("keydown", function(event) {
            if (event.key === "Enter") {
                const command = commandInput.value.trim();
                printToTerminal("$ " + command);
                executeCommand(command);
                commandInput.value = "";
            }
        });

        // Tutoriel
        const tutorialSteps = [{ title: "1. Privilège superutilisateur", text: "sudo su pour activer." }];
        let tutorialIndex = 0;

        function showTutorialStep() {
            if (tutorialIndex < tutorialSteps.length) {
                const step = tutorialSteps[tutorialIndex];
                const tooltipHtml = `<div class="tooltip"><h2>${step.title}</h2><p>${step.text}</p><button class="close-btn" onclick="closeTutorialStep()">X</button></div>`;
                document.body.insertAdjacentHTML('beforeend', tooltipHtml);
            }
        }

        function closeTutorialStep() {
            const tooltip = document.querySelector(".tooltip");
            tooltip && tooltip.remove();
            tutorialIndex++;
            showTutorialStep();
        }

        showTutorialStep();
    </script>
</body>
</html>
